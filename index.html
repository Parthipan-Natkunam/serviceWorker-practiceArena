<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel='shortcut icon' type='image/x-icon' href='/favicon.png' />
    <title>ServiceWorkers - playArena</title>
    <link rel="stylesheet" href="/style.css"/>
</head>
<body>
    <div class="heading__conatiner">
        <h3>ServiceWorkers - </h3>
        <img src="/img/logo.png" alt="logo"/>
    </div>
    <div class="content__container">
        <div class="content__box">
            <h5>Teen Titans</h5>
            <img src="img/teentitans.jpg" alt="Teen Titans"/>
        </div>
        <div class="content__box">
            <h5>Walking Dead</h5>
            <img src="img/walkingDead.jpg" alt="Walking Dead" />
        </div>
    </div>
    <script>
        if(navigator.serviceWorker){
            console.log("Service workers are supported in this browser..");
            navigator.serviceWorker.register('/serviceWorker.js').then((registration)=>{
                console.log("Service Worker registered successfully...");
                console.log(`service worker's current scope: ${registration.scope}`);
            }).catch((error)=>{
                console.log("Failed to register serviceworker!");
            });
            if(navigator.serviceWorker.controller){
                window.addEventListener('load',()=>{
                    navigator.serviceWorker.controller.postMessage('cleanUpCache');
                });
            }
        }else{
            console.log("This browser doesn't support service workers...");
        }
    </script>
</body>
</html>